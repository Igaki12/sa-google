<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>Sa-Google Search</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style type="text/css">
        #mynetwork {
            width: 300px;
            height: 300px;
            border: 1px solid lightgray;
            float: left;
        }

        #node-details {
            width: 200px;
            height: 200px;
            border: 1px solid lightgray;
            float: left;
            font-size: small;
            padding-right: 10px;
            padding-left: 10px;
        }
    </style>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.css" rel="stylesheet"
        type="text/css" />

    <style>
        canvas {
            border: 1px solid black;
        }
    </style>


    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0 auto;
        }

        .logo {
            margin-bottom: 20px;
        }

        .search-box {
            display: flex;
        }

        .search-box input[type="text"] {
            width: 400px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px 0 0 4px;
        }

        .search-box input[type="submit"] {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4285F4;
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }

        .search-box input[type="submit"]:hover {
            background-color: #357ae8;
        }
    </style>
</head>

<body>
    <div class="logo">
        <!-- サイズを指定する -->
        <img src="../static/LOGO.png" alt="Sa-Google Logo" width="500">
    </div>
    <!-- <div class="search-box">
        <input type="text" placeholder="Search Sa-Google">
        <button type="button">Search</button>
    </div> -->
    <form method="post" class="search-box" action="/results">
        <input type="text" name="query" placeholder="調べたい言葉">
        <input type="submit" value="Search">
    </form>

    <!-- vis.jsによるグラフサンプル -->
    <div style="display: flex; margin-top: 20px;">
        <div id="mynetwork"></div>
        <div>
            <h3>Node Details</h3>
            <div id="node-details"></div>
        </div>

    </div>

    <script type="text/javascript">
        var nodes = new vis.DataSet([
            { id: 1, label: 'Node 1', title: 'This is Node 1' },
            { id: 2, label: 'Node 2', title: 'This is Node 2' },
            { id: 3, label: 'Node 3', title: 'This is Node 3' },
            { id: 4, label: 'Node 4', title: 'This is Node 4' },
            { id: 5, label: 'Node 5', title: 'This is Node 5' },
        ]);

        var edges = new vis.DataSet([
            { from: 1, to: 2, arrows: 'to' },
            { from: 1, to: 3, arrows: 'to' },
            { from: 2, to: 4, arrows: 'to' },
            { from: 2, to: 5, arrows: 'to' },
            { from: 3, to: 5, arrows: 'to' }
        ]);

        var container = document.getElementById('mynetwork');
        var data = {
            nodes: nodes,
            edges: edges
        };
        var options = {
            edges: {
                arrows: {
                    to: { enabled: true, scaleFactor: 1 }
                }
            }
        };

        var network = new vis.Network(container, data, options);

        // ノードの詳細を表示する関数
        function displayNodeDetails(nodeId) {
            var node = nodes.get(nodeId);
            if (node) {
                document.getElementById('node-details').innerHTML = '<p>ID: ' + node.id + '</p>' +
                    '<p>Label: ' + node.label + '</p>' +
                    '<p>Title: ' + node.title + '</p>';
            } else {
                document.getElementById('node-details').innerHTML = '<p>No node selected.</p>';
            }
        }

        // ノードクリックイベント
        network.on("click", function (params) {
            if (params.nodes.length > 0) {
                var nodeId = params.nodes[0];
                displayNodeDetails(nodeId);
            } else {
                document.getElementById('node-details').innerHTML = '<p>No node selected.</p>';
            }
        });

        // ノードドラッグイベント
        network.on("dragging", function (params) {
            if (params.nodes.length > 0) {
                var nodeId = params.nodes[0];
                displayNodeDetails(nodeId);
            } else {
                document.getElementById('node-details').innerHTML = '<p>No node selected.</p>';
            }
        });
    </script>

</body>

</html>